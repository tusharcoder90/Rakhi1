<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Raksha Bandhan</title>
    <style>
        /* General Body and Layout Styles */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden; /* No scrollbars */
            font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            color: #fff;
        }

        .fullscreen-container {
            width: 100%;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            flex-direction: column;
            transition: opacity 1s ease-in-out, visibility 1s;
        }

        /* 1. Landing Screen Styles */
        #landing-screen {
            background: linear-gradient(-45deg, #ff007f, #00ffcc, #ffcc00, #7a00ff);
            background-size: 400% 400%;
            animation: gradient-pan 15s ease infinite;
            z-index: 100;
        }

        #landing-screen h1 {
            font-size: clamp(2rem, 8vw, 4rem);
            animation: zoom-in-out 4s ease-in-out infinite;
            text-shadow: 0 0 10px rgba(0,0,0,0.5);
        }

        .reveal-button {
            padding: 15px 30px;
            font-size: 1.5rem;
            color: #fff;
            background-color: transparent;
            border: 2px solid #fff;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px #fff, 0 0 30px #ff007f, 0 0 45px #00ffcc;
            animation: neon-glow 2s infinite alternate;
        }

        .reveal-button:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }

        /* Hide class for smooth transition */
        .hidden {
            opacity: 0;
            visibility: hidden;
        }

        /* 2. Celebration Page Styles */
        #celebration-screen {
            background: linear-gradient(135deg, #1d0f2a, #0b0c2e);
            justify-content: flex-start; /* Align content to the top */
            padding-top: 20px;
            box-sizing: border-box;
            overflow-y: auto; /* Allow scrolling on smaller screens if content overflows */
        }

        /* A. Heading Styles */
        .main-heading {
            font-size: clamp(2.5rem, 10vw, 5rem);
            font-weight: bold;
            position: relative;
            animation: disco-colors 5s linear infinite;
            z-index: 10;
        }

        .main-heading::before {
            content: "Happy Raksha Bandhan";
            position: absolute;
            left: 0;
            top: 0;
            right: 0;
            bottom: 0;
            text-shadow: 0 0 10px #ff00ff, 0 0 20px #ff00ff, 0 0 40px #00ffff, 0 0 60px #00ffff;
            animation: glow-background 3s ease-in-out infinite alternate;
            z-index: -1;
        }

        /* B. Rakhi Image Styles */
        .rakhi-image-container {
            margin: 15px 0;
            position: relative;
            width: 100%;
            display: flex;
            justify-content: center;
        }
        
        #rakhi-gif {
            width: clamp(150px, 40vw, 250px);
            max-width: 90%;
            border-radius: 20px;
            box-shadow: 0 0 15px 5px #ff00ff, 0 0 25px 10px #00ffff, 0 0 40px 15px #ffc700;
            animation: pulse-zoom 2.5s ease-in-out infinite;
        }

        /* C. Message Display Styles */
        .message-box {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 15px 20px;
            margin: 15px 10%;
            border: 1px solid #ff00ff;
            box-shadow: 0 0 15px #ff00ff, inset 0 0 10px #00ffff;
        }

        .message-box p {
            font-size: clamp(1rem, 4vw, 1.5rem);
            margin: 0;
        }

        #name-display {
            font-weight: bold;
            color: #ffc700;
            animation: neon-text-glow 1.5s infinite alternate;
        }

        /* 4. Continuous Celebration Effects */
        .celebration-effect {
            position: fixed;
            top: -50px;
            animation: fall 10s linear infinite;
            font-size: 2rem;
            z-index: 1;
            opacity: 0.8;
            user-select: none;
        }
        
        .balloon {
            position: fixed;
            bottom: -150px;
            width: 50px;
            height: 60px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: float-up 15s linear infinite;
            opacity: 0.6;
            box-shadow: inset -10px -10px 0 rgba(0,0,0,0.2);
            filter: blur(1px);
        }

        /* 5. Input and Share Options Styles */
        .controls-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 15px 10%;
            align-items: center;
            z-index: 10;
        }

        .input-group {
            width: 100%;
            max-width: 500px;
        }

        .input-field, .message-area {
            width: 100%;
            padding: 12px;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #00ffff;
            border-radius: 10px;
            color: #fff;
            font-size: 1rem;
            box-sizing: border-box;
            box-shadow: 0 0 10px #00ffff;
            transition: box-shadow 0.3s;
        }
        
        .input-field:focus, .message-area:focus {
            outline: none;
            box-shadow: 0 0 20px #00ffff;
        }
        
        .message-area {
            resize: vertical;
            min-height: 80px;
        }

        .button-group {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            width: 100%;
        }

        .gift-button, .share-button {
            text-decoration: none;
            color: #fff;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            border: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s ease;
        }
        
        /* Rakhi Gift Button */
        .gift-button {
            background: linear-gradient(45deg, #ff007f, #ffc700);
            box-shadow: 0 0 15px #ff007f, 0 0 25px #ffc700;
            animation: button-bounce 3s ease-in-out infinite;
        }
        .gift-button:hover {
            transform: scale(1.05) rotate(2deg);
            box-shadow: 0 0 25px #ff007f, 0 0 40px #ffc700;
        }

        /* WhatsApp Share Button */
        .share-button {
            background-color: #25D366;
            box-shadow: 0 0 15px #25D366;
        }
        .share-button:hover {
            background-color: #128C7E;
            transform: scale(1.05);
        }

        /* Animations */
        @keyframes gradient-pan {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes zoom-in-out {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes neon-glow {
            from { text-shadow: 0 0 10px #fff, 0 0 20px #ff007f, 0 0 30px #00ffcc; }
            to { text-shadow: 0 0 20px #fff, 0 0 30px #ff007f, 0 0 40px #00ffcc; }
        }

        @keyframes disco-colors {
            0% { color: #ff00ff; }
            25% { color: #00ffff; }
            50% { color: #ffc700; }
            75% { color: #00ff7f; }
            100% { color: #ff00ff; }
        }

        @keyframes glow-background {
            from { opacity: 0.7; }
            to { opacity: 1; }
        }

        @keyframes pulse-zoom {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.03); }
        }

        @keyframes neon-text-glow {
            from { text-shadow: 0 0 5px #ffc700, 0 0 10px #ffc700; }
            to { text-shadow: 0 0 10px #ffc700, 0 0 20px #ffc700, 0 0 30px #ff8c00; }
        }

        @keyframes fall {
            to { transform: translateY(110vh) rotate(360deg); }
        }
        
        @keyframes float-up {
            to { transform: translateY(-110vh); opacity: 0; }
        }
        
        @keyframes button-bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        /* Responsive adjustments for smaller screens */
        @media (max-height: 700px) {
            #celebration-screen {
                overflow-y: auto; /* Enable scroll for short screens */
                padding-bottom: 20px;
            }
            .rakhi-image-container, .message-box, .controls-container {
                margin-top: 10px;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>

    <!-- Audio file for background music -->
    <audio id="rakhi-music" loop>
        <source src="rakhi.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <!-- 1. Landing Screen (Before Reveal) -->
    <div id="landing-screen" class="fullscreen-container">
        <h1>Special Raksha Bandhan message waiting for you</h1>
        <button id="reveal-btn" class="reveal-button">Click to Reveal</button>
    </div>

    <!-- 3. Celebration Page Design -->
    <div id="celebration-screen" class="fullscreen-container hidden">
        <!-- Main Content Wrapper -->
        <div style="width:100%; max-width: 1200px; display: flex; flex-direction: column; align-items: center;">

            <!-- A. Heading -->
            <h1 class="main-heading">Happy Raksha Bandhan</h1>

            <!-- B. Rakhi Image -->
            <div class="rakhi-image-container">
                <img id="rakhi-gif" src="rakhi.gif" alt="Animated Rakhi">
            </div>

            <!-- C. Message Display -->
            <div class="message-box">
                <p><span id="name-display">Someone</span> ki taraf se: <span id="message-display">aapko Raksha Bandhan ki bahut bahut badhai</span></p>
            </div>

            <!-- 5. Name, Message Input + Share Options -->
            <div class="controls-container">
                <div class="input-group">
                    <input type="text" id="name-input" class="input-field" placeholder="Enter your name">
                </div>
                <div class="input-group">
                    <textarea id="message-input" class="message-area" placeholder="Enter your custom message"></textarea>
                </div>

                <div class="button-group">
                    <!-- üî•üî• PASTE YOUR AMAZON AFFILIATE LINK BELOW üî•üî• -->
                    <a href="https://otieu.com/4/9674295" target="_blank" class="gift-button">üéÅ Special Rakhi Gifts üéÅ üëá</a>
                    
                    <a id="whatsapp-share-btn" class="share-button" href="#" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" fill="#ffffff"><path d="M0 0h24v24H0z" fill="none"/><path d="M20.45 3.55A12 12 0 0 0 3.55 20.45 12 12 0 0 0 20.45 3.55zM12 22C6.48 22 2 17.52 2 12S6.48 2 12 2s10 4.48 10 10-4.48 10-10 10zm-1.2-6.6l.6-2.9h-3.3v-1.9c0-.7.4-1.4 1.5-1.4h1.8V6.4h-2.9c-3.2 0-4.4 1.8-4.4 4.3v2.1h-2v3.2h2v7.2h3.8v-7.2h2.7z"/></svg>
                        Share on WhatsApp
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Element References
            const revealBtn = document.getElementById('reveal-btn');
            const landingScreen = document.getElementById('landing-screen');
            const celebrationScreen = document.getElementById('celebration-screen');
            const rakhiMusic = document.getElementById('rakhi-music');
            
            const nameInput = document.getElementById('name-input');
            const messageInput = document.getElementById('message-input');
            const nameDisplay = document.getElementById('name-display');
            const messageDisplay = document.getElementById('message-display');
            const whatsappShareBtn = document.getElementById('whatsapp-share-btn');

            let name = "Someone";
            let message = "aapko Raksha Bandhan ki bahut bahut badhai";

            // Function to parse URL parameters
            const getUrlParams = () => {
                const params = new URLSearchParams(window.location.search);
                const urlName = params.get('name');
                const urlMsg = params.get('msg');
                
                if (urlName) {
                    name = urlName;
                }
                if (urlMsg) {
                    message = urlMsg;
                }
            };

            // Function to update the displayed message and share link
            const updateContent = () => {
                nameDisplay.textContent = nameInput.value || name;
                messageDisplay.textContent = messageInput.value || message;
                
                // Update share link
                const shareName = encodeURIComponent(nameInput.value || name);
                const shareMsg = encodeURIComponent(messageInput.value || message);
                const currentUrl = window.location.origin + window.location.pathname;
                const shareUrl = `https://api.whatsapp.com/send?text=${shareName}%20ki%20taraf%20se%20ek%20special%20message:%20Check%20it%20out!%20%F0%9F%8E%81%0A${currentUrl}?name=${shareName}&msg=${shareMsg}`;
                whatsappShareBtn.href = shareUrl;
            };

            // Event listener for the reveal button
            revealBtn.addEventListener('click', () => {
                landingScreen.classList.add('hidden');
                celebrationScreen.classList.remove('hidden');
                
                // Start music and effects
                rakhiMusic.play().catch(error => {
                    console.log("Audio playback was prevented. User interaction is needed to start it.");
                    // In some browsers, audio can only be played after a direct user interaction.
                    // The click on the reveal button should suffice, but this is a fallback.
                });

                startCelebrationEffects();
            });

            // Event listeners for input fields to update content dynamically
            nameInput.addEventListener('input', updateContent);
            messageInput.addEventListener('input', updateContent);

            // 4. Continuous Celebration Effects
            const startCelebrationEffects = () => {
                const effectsContainer = celebrationScreen;
                const flowerEmojis = ['üå∫', 'üíê', 'ü•Ä', 'üåπ', 'üå∏', 'üåº', 'üåª', 'üåü', 'üåà'];
                const balloonColors = ['rgba(255, 0, 255, 0.7)', 'rgba(0, 255, 255, 0.7)', 'rgba(255, 199, 0, 0.7)'];

                // Create falling flowers
                setInterval(() => {
                    const flower = document.createElement('div');
                    flower.classList.add('celebration-effect');
                    flower.innerText = flowerEmojis[Math.floor(Math.random() * flowerEmojis.length)];
                    flower.style.left = `${Math.random() * 100}vw`;
                    flower.style.animationDuration = `${Math.random() * 5 + 8}s`; // 8-13 seconds
                    flower.style.fontSize = `${Math.random() * 1 + 1}rem`;
                    effectsContainer.appendChild(flower);

                    setTimeout(() => {
                        flower.remove();
                    }, 13000); // Remove after animation ends
                }, 400); // Create a new flower every 400ms (25% density)

                // Create floating balloons
                setInterval(() => {
                    const balloon = document.createElement('div');
                    balloon.classList.add('balloon');
                    balloon.style.left = `${Math.random() * 90}vw`; // Use 90vw to keep it within bounds
                    balloon.style.animationDuration = `${Math.random() * 10 + 15}s`; // 15-25 seconds
                    balloon.style.backgroundColor = balloonColors[Math.floor(Math.random() * balloonColors.length)];
                    balloon.style.transform = `scale(${Math.random() * 0.5 + 0.8})`; // Random size
                    effectsContainer.appendChild(balloon);

                    setTimeout(() => {
                        balloon.remove();
                    }, 25000); // Remove after animation ends
                }, 1500); // Create a new balloon every 1.5 seconds
            };

            // Initial setup
            getUrlParams();
            // Set initial values for inputs and display
            nameInput.value = name === "Someone" ? "" : name;
            messageInput.value = message === "aapko Raksha Bandhan ki bahut bahut badhai" ? "" : message;
            updateContent();
        });
    </script>

</body>
</html>
